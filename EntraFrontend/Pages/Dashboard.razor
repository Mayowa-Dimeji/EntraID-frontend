@page "/dashboard"
@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager Navigation

<div class="min-h-screen bg-gray-100 p-8">
    <div class="max-w-xl mx-auto bg-white p-6 rounded shadow-md">

        <AuthorizeView>
            <Authorized>
                <h1 class="text-2xl font-bold mb-4">Welcome to the Dashboard</h1>

                <p class="mb-4 text-gray-700">
                    This is a minimal login dashboard built as a learning project to practice and demonstrate integration with:
                </p>
                <ul class="list-disc pl-6 mb-6 text-gray-700">
                    <li>Microsoft Entra ID and Entra External ID</li>
                    <li>Social login via Google and Microsoft</li>
                    <li>Authorization using <code>AuthorizeView</code></li>
                    <li>Token-based authentication in a Blazor WebAssembly app</li>
                </ul>

                <p class="mb-6 text-gray-700">
                    It uses simple visuals and hardwired UI logic to focus on the core identity flows and the secure login experience.
                </p>

                <p class="text-lg font-semibold text-gray-800">
                    Hello, @context.User.Identity?.Name!
                </p>

                <button class="mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700" @onclick="BeginLogOut">
                    Log out
                </button>
            </Authorized>

            <NotAuthorized>
                <p>You must be logged in to view this page.</p>
            </NotAuthorized>
        </AuthorizeView>

    </div>
</div>

@code {
    public void BeginLogOut()
    {
        Navigation.NavigateTo("authentication/logout");
    }
}
